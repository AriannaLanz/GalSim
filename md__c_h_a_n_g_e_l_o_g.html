<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GalSim: Changes from v1.2 to v1.3</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Changes from v1.2 to v1.3 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Installation Changes </h2>
<ul>
<li>We have officially claimed to require TMV version 0.72 or later since GalSim version 1.1. However, TMV 0.71 still worked for most users. With this release, we make use of features that are not in TMV 0.71, so you really do need to upgrade to version 0.72 now. (#616)</li>
</ul>
<h2>API Changes </h2>
<ul>
<li>Changed the name of the <code>bounds.addBorder()</code> method to <code>withBorder</code> to make it clearer that the method returns a new Bounds object. (#218)</li>
<li>Removed (from the python layer) Interpolant2d and InterpolantXY, since we we have only actually implemented 1-d interpolants. (#218)</li>
<li>Removed the MultipleImage way of constructing an SBInterpolatedImage, since we do not use it anywhere, nor are there unit tests for it. (#218, #642)</li>
<li>Made the default tolerance for all Interpolants equal to 1.e-4. It already was for Cubic, Quintic, and Lanczos, which are the ones we normally use, so this just changes the default for the others. (#218)</li>
<li>Deprecated the <b>rdiv</b> operator from Bandpass and SED, since we realized that they did not have any clear use cases. If you have one, please open an issue, and we can add them back. (#218)</li>
<li>Made all returned matrices consistently use numpy.array, rather than numpy.matrix. We had been inconsistent with which type different functions returned, so now all matrices are numpy.arrays. If you rely on the numpy.matrix behavior, you should recast with numpy.asmatrix(M). (#218)</li>
<li>Made the classes PositionI, PositionD, GSParams, and HSMParams immutable. It was an oversight that we failed to make them immutable in version 1.1 when we made most other GalSim classes immutable. Now rather than write to their various attributes, you should make a new object. e.g. instead of <code>p.x = 4</code> and <code>p.y = 5</code>, you now need to do <code>p = galsim.PositionD(4,5)</code>. (#218, #643)</li>
<li>Deprecated CorrelatedNoise.calculateCovarianceMatrix, since it is not used anywhere, and we think no one really has a need for it. (#630)</li>
<li>Officially deprecated the methods and functions that had been described as having been removed or changed to a different name. In fact, many of them had been still valid, but no longer documented. This was intentional to allow people time to change their code. Now these methods are officially deprecated and will emit a warning message if used. (#643)</li>
<li>Added function to interleave a set of dithered images into a single higher-resolution image. (#666)</li>
</ul>
<h2>New Features </h2>
<ul>
<li>Made all GalSim objects picklable unless they use fundamentally unpicklable things such as lambda expressions. Also gave objects better str and repr representations (str(obj) should be descriptive, but relatively succinct, and repr(obj) should be unambiguous). Also made <b>eq</b>, <b>ne</b>, and <b>hash</b> work better. (#218)</li>
<li>Added ability to set the zeropoint of a bandpass on construction. (Only a numeric value; more complicated calculations still need to use the method <code>bandpass.withZeropoint()</code>.) (#218)</li>
<li>Added ability to set the redshift of an SED on construction. (#218)</li>
<li>Updated CorrelatedNoise to work with images that have a non-trivial WCS. (#501)</li>
<li>Added new methods of the image class to simulate detector effects: inter-pixel capacitance (#555) and image quantization (#558).</li>
<li>Enabled constructing a FitsHeader object from a dict. This had been a hidden feature that only half worked. It should now work correctly. Also, allow FitsHeader to be default constructed, which creates it with no keys. (#590)</li>
<li>Added a module, <a class="el" href="namespacegalsim_1_1wfirst.html">galsim.wfirst</a>, that includes information about the planned WFIRST mission, along with helper routines for constructing appropriate PSFs, bandpasses, WCS, etc. (#590)</li>
<li>Added native support for the TAN-SIP WCS type using GSFitsWCS. (#590)</li>
<li>Added a helper program, galsim_download_cosmos, that downloads the COSMOS RealGalaxy catalog and places it in the $PREFIX/share/galsim installation directory, and allow this to be the default for RealGalaxyCatalog(). (#590)</li>
<li>Added new class with methods for making realistic galaxy samples using COSMOS: the COSMOSCatalog class and its method makeObj(). (#590 / #635).</li>
<li>Added information about PSF size and shape to the data structure that is returned by <a class="el" href="namespacegalsim_1_1hsm.html#a3e4df98f3d16186ddeeac25b3d1c50e8" title="Carry out moments-based PSF correction routines. ">EstimateShear()</a>. (#612)</li>
<li>Added Spergel(2010) profile GSObject (#616).</li>
<li>Added an option to the ChromaticObject class that allows for image rendering via interpolation between stored images. This option can speed up the image rendering process compared to brute force evaluation for chromatic objects with basic properties that are wavelength-dependent. (#618)</li>
<li>Added new <code>ChromaticAiry</code> and <code>ChromaticOpticalPSF</code> classes for representing optical PSFs. These new classes allow the diffraction effects and (in the latter case) aberrations to be wavelength-dependent. (#618)</li>
<li>Enable initializing a DES_PSFEx object using a pyfits HDU directly instead of a filename. (#626)</li>
<li>Added TopHat class implementing a circular tophat profile. (#639)</li>
<li>Added ability of Noise objects to take a new random number generator (a BaseDeviate instance) when being copied. (#643)</li>
<li>Added InterpolatedKImage GSObject for constructing a surface brightness profile out of samples of its Fourier transform. (#642)</li>
<li>Enabled constructing a FitsHeader object from a list of (key, value) pairs, which preserves the order of the items in the header. (#672)</li>
</ul>
<h2>Bug Fixes and Improvements </h2>
<ul>
<li>Fixed a bug in the normalization of SEDs that use <code>wave_type='A'</code>. (#218)</li>
<li>Switched the sign of the angle returned by <code>CelestialCoord.angleBetween</code>. The sign is now positive when the angle as seen from the ground sweeps in the counter-clockwise direction, which is a more sensible definition than what it had used. (#590)</li>
<li>Fixed a bug in UncorrelatedNoise where the variance was set incorrectly. (#630)</li>
<li>Changed the implementation of drawing Box and Pixel profiles in real space (i.e. without being convolved by anything) to actually draw the surface brightness at the center of each pixel. This is what all other profiles do, but had not been what a Box or Pixel did. (#639)</li>
<li>Fixed a bug where InterpolatedImage and Box profiles were not correctly rendered when transformed by something that includes a flip. (#645)</li>
<li>Fixed a bug in rendering profiles that involve two separate shifts. (#645)</li>
<li>Fixed a bug if drawImage was given odd nx, ny parameters, the drawn profile was not correctly centered in the image. (#645)</li>
<li>Added intermediate results cache to <code>ChromaticObject.drawImage</code> and <code>ChromaticConvolution.drawImage</code>, which, for some applications, can significantly speed up (anywhere from 10% to 2000%) the rendering of groups of similar (same SED, same Bandpass, same PSF) chromatic profiles. (#670)</li>
</ul>
<h2>Updates to config options </h2>
<ul>
<li>Added COSMOSGalaxy type, with corresponding cosmos_catalog input type. (#590)</li>
<li>Added Spergel type. (#616)</li>
<li>Added lam, diam, scale_units options to Airy and OpticalPSF types. (#618)</li>
<li>Added TopHat type. (#639) </li>
</ul>
</div></div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6</small></address>
</body>
</html>
