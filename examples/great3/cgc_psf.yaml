# The Great3 control-ground-constant branch configuration file
# Note: This configuration will not produce images _identical_ to the ones used for Great3, 
# since the order of random number generation is different.  However, it is intended to
# produce an _equivalent_ simulation as the one produced for Great3.

psf:
    # Just read in the psf field from cgc.yaml.
    template : 'cgc.yaml:psf'

image:
    type: Tiled
    nx_tiles: 3
    ny_tiles: 3
    stamp_size: 48
    pixel_scale: 0.2

    random_seed: 31415

    # Offset
    offset:
        type: List
        items:
        -   0,0  # For the first stamp, no offset.
        -
            type: XY
            x: { type: Random, min: -1.0, max: 1.0 }
            y: { type: Random, min: -1.0, max: 1.0 }
        index: '$int(bool(obj_num % 9))'  # 0 -> 0, 1-8 -> 1

output:
    type: Fits
    dir: control/ground/constant
    file_name:
        type: FormattedStr
        # The numbers in the file_name are subfield and epoch number.  
        # This branch only has one epoch, so epoch is always 0 here.
        format: starfield_image-%03d-%1d.fits
        items:
        - { type: Sequence, nitems: 200 }
        - 0

    nfiles: 200

    nproc: -1

