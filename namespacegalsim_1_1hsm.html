<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GalSim: galsim::hsm Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Simulating galaxy images for weak lensing system testing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1hsm.html">hsm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">galsim::hsm Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1hsm_1_1_h_s_m_error.html">HSMError</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exception class thrown by the adaptive moment and shape measurement routines in the hsm namespace.  <a href="classgalsim_1_1hsm_1_1_h_s_m_error.html#details">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgalsim_1_1hsm_1_1_object_data.html">ObjectData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Characterizes the shape and other parameters of objects.  <a href="structgalsim_1_1hsm_1_1_object_data.html#details">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html">RectImage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an image in the way that the hsm code expects to see.  <a href="structgalsim_1_1hsm_1_1_rect_image.html#details">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html">HSMShapeData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct containing information about the shape of an object.  <a href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html#details">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa729e5266459ae6240b1cd64a9c512ef"><td class="memTemplParams" colspan="2">template&lt;typename T , typename U &gt; </td></tr>
<tr class="memitem:aa729e5266459ae6240b1cd64a9c512ef"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html">HSMShapeData</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1hsm.html#aa729e5266459ae6240b1cd64a9c512ef">EstimateShearHSMView</a> (const <a class="el" href="classgalsim_1_1_image_view.html">ImageView</a>&lt; T &gt; &amp;gal_image, const <a class="el" href="classgalsim_1_1_image_view.html">ImageView</a>&lt; U &gt; &amp;PSF_image, float sky_var=0.0, const char *shear_est=&quot;REGAUSS&quot;, unsigned long flags=0xe, double guess_sig_gal=5.0, double guess_sig_PSF=3.0, double precision=1.0e-6, double guess_x_centroid=-1000.0, double guess_y_centroid=-1000.0)</td></tr>
<tr class="memdesc:aa729e5266459ae6240b1cd64a9c512ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out PSF correction directly using ImageViews.  <a href="#aa729e5266459ae6240b1cd64a9c512ef"></a><br/></td></tr>
<tr class="memitem:ad13bfbc011b648957b1b9c23ec6338fd"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ad13bfbc011b648957b1b9c23ec6338fd"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html">HSMShapeData</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1hsm.html#ad13bfbc011b648957b1b9c23ec6338fd">FindAdaptiveMomView</a> (const <a class="el" href="classgalsim_1_1_image_view.html">ImageView</a>&lt; T &gt; &amp;object_image, double guess_sig=5.0, double precision=1.0e-6, double guess_x_centroid=-1000.0, double guess_y_centroid=-1000.0)</td></tr>
<tr class="memdesc:ad13bfbc011b648957b1b9c23ec6338fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measure the adaptive moments of an object directly using ImageViews.  <a href="#ad13bfbc011b648957b1b9c23ec6338fd"></a><br/></td></tr>
<tr class="memitem:a8e5f5aa7b06c53d22b255c2a2e38e0fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1hsm.html#a8e5f5aa7b06c53d22b255c2a2e38e0fd">allocate_rect_image</a> (<a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html">RectImage</a> *A, long xmin, long xmax, long ymin, long ymax)</td></tr>
<tr class="memdesc:a8e5f5aa7b06c53d22b255c2a2e38e0fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate memory for a <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> representing the image of some object.  <a href="#a8e5f5aa7b06c53d22b255c2a2e38e0fd"></a><br/></td></tr>
<tr class="memitem:a0628fc63aed5b3ba6c554f10792d1a0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1hsm.html#a0628fc63aed5b3ba6c554f10792d1a0d">deallocate_rect_image</a> (<a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html">RectImage</a> *A)</td></tr>
<tr class="memdesc:a0628fc63aed5b3ba6c554f10792d1a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-allocate memory for a <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a>.  <a href="#a0628fc63aed5b3ba6c554f10792d1a0d"></a><br/></td></tr>
<tr class="memitem:ac18e9c11e85e4f3907631580cd1c31cd"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1hsm.html#ac18e9c11e85e4f3907631580cd1c31cd">general_shear_estimator</a> (<a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html">RectImage</a> *gal_image, <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html">RectImage</a> *PSF, <a class="el" href="structgalsim_1_1hsm_1_1_object_data.html">ObjectData</a> *gal_data, <a class="el" href="structgalsim_1_1hsm_1_1_object_data.html">ObjectData</a> *PSF_data, char *shear_est, unsigned long flags)</td></tr>
<tr class="memdesc:ac18e9c11e85e4f3907631580cd1c31cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carry out PSF correction.  <a href="#ac18e9c11e85e4f3907631580cd1c31cd"></a><br/></td></tr>
<tr class="memitem:a1c61eb4d9f3090e8cf51bd3e05186999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1hsm.html#a1c61eb4d9f3090e8cf51bd3e05186999">find_ellipmom_2</a> (<a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html">RectImage</a> *data, double *A, double *x0, double *y0, double *Mxx, double *Mxy, double *Myy, double *rho4, double epsilon, int *num_iter)</td></tr>
<tr class="memdesc:a1c61eb4d9f3090e8cf51bd3e05186999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measure the adaptive moments of an object.  <a href="#a1c61eb4d9f3090e8cf51bd3e05186999"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8e5f5aa7b06c53d22b255c2a2e38e0fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void galsim::hsm::allocate_rect_image </td>
          <td>(</td>
          <td class="paramtype">RectImage *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>xmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ymin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>ymax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate memory for a <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> representing the image of some object. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*A</td><td>The pointer to the <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmin</td><td>The lower x boundary for the image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xmax</td><td>The upper x boundary for the imgae </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymin</td><td>The lower y boundary for the image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ymax</td><td>The upper y boundary for the image </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0628fc63aed5b3ba6c554f10792d1a0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void galsim::hsm::deallocate_rect_image </td>
          <td>(</td>
          <td class="paramtype">RectImage *&#160;</td>
          <td class="paramname"><em>A</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-allocate memory for a <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a>. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*A</td><td>The pointer to the <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa729e5266459ae6240b1cd64a9c512ef"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename U &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html">HSMShapeData</a> galsim::hsm::EstimateShearHSMView </td>
          <td>(</td>
          <td class="paramtype">const ImageView&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>gal_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ImageView&lt; U &gt; &amp;&#160;</td>
          <td class="paramname"><em>PSF_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sky_var</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>shear_est</em> = <code>&quot;REGAUSS&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0xe</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>guess_sig_gal</em> = <code>5.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>guess_sig_PSF</em> = <code>3.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>precision</em> = <code>1.0e-6</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>guess_x_centroid</em> = <code>-1000.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>guess_y_centroid</em> = <code>-1000.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out PSF correction directly using ImageViews. </p>
<p>A template function to carry out one of the multiple possible methods of PSF correction using the HSM package, directly accessing the input ImageViews. The input arguments get repackaged into <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> and <a class="el" href="structgalsim_1_1hsm_1_1_object_data.html" title="Characterizes the shape and other parameters of objects.">ObjectData</a> structs before calling general_shear_estimator. Results for the shape measurement are returned as <a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html" title="Struct containing information about the shape of an object.">HSMShapeData</a>. There are two arguments that have default values, namely shear_est (the type of shear estimator) and flags (for the REGAUSS method only).</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gal_image</td><td>The <a class="el" href="classgalsim_1_1_image_view.html" title="ImageView class is a mutable view of an Image.">ImageView</a> for the galaxy being measured </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PSF_image</td><td>The <a class="el" href="classgalsim_1_1_image_view.html" title="ImageView class is a mutable view of an Image.">ImageView</a> for the PSF </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sky_var</td><td>The variance of the sky level, used for estimating uncertainty on the measured shape; default 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*shear_est</td><td>A string indicating the desired method of PSF correction: REGAUSS, LINEAR, BJ, or KSB; default REGAUSS. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>A flag determining various aspects of the shape measurement process (only necessary for REGAUSS); default 0xe. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">guess_sig_gal</td><td>Optional argument with an initial guess for the Gaussian sigma of the galaxy, default 5.0 (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">guess_sig_PSF</td><td>Optional argument with an initial guess for the Gaussian sigma of the PSF, default 3.0 (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">precision</td><td>The convergence criterion for the moments; default 1e-6. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">guess_x_centroid</td><td>Optional argument with an initial guess for the x centroid of the galaxy; if not set, then the code will try the center of the image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">guess_y_centroid</td><td>Optional argument with an initial guess for the y centroid of the galaxy; if not set, then the code will try the center of the image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A <a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html" title="Struct containing information about the shape of an object.">HSMShapeData</a> object containing the results of shape measurement. </dd></dl>

</div>
</div>
<a class="anchor" id="a1c61eb4d9f3090e8cf51bd3e05186999"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void galsim::hsm::find_ellipmom_2 </td>
          <td>(</td>
          <td class="paramtype">RectImage *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Mxx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Mxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>Myy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>rho4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_iter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measure the adaptive moments of an object. </p>
<p>This function iteratively computes the adaptive moments of an image, and tells the user the results plus other diagnostic information. The key result is the best-fit elliptical Gaussian to the object, which is computed by initially guessing a circular Gaussian that is used as a weight function, computing the weighted moments, recomputing the moments using the result of the previous step as the weight function, and so on until the moments that are measured are the same as those used for the weight function. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*data</td><td>The <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> for the object being measured. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*A</td><td>The amplitude of the best-fit elliptical Gaussian (total image intensity for the Gaussian is 2A). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*x0</td><td>The x centroid of the best-fit elliptical Gaussian </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y0</td><td>The y centroid of the best-fit elliptical Gaussian </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*Mxx</td><td>The xx component of the moment matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*Mxy</td><td>The xy component of the moment matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*Myy</td><td>The yy component of the moment matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*rho4</td><td>The weighted radial fourth moment </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">epsilon</td><td>The required level of accuracy </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*num_iter</td><td>The number of iterations needed to converge </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad13bfbc011b648957b1b9c23ec6338fd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html">HSMShapeData</a> galsim::hsm::FindAdaptiveMomView </td>
          <td>(</td>
          <td class="paramtype">const ImageView&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>object_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>guess_sig</em> = <code>5.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>precision</em> = <code>1.0e-6</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>guess_x_centroid</em> = <code>-1000.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>guess_y_centroid</em> = <code>-1000.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measure the adaptive moments of an object directly using ImageViews. </p>
<p>This function repackages the input <a class="el" href="classgalsim_1_1_image_view.html" title="ImageView class is a mutable view of an Image.">ImageView</a> in a format that find_ellipmom_2 accepts, in order to iteratively compute the adaptive moments of an object. The key result is the best-fit elliptical Gaussian to the object, which is computed by initially guessing a circular Gaussian that is used as a weight function, computing the weighted moments, recomputing the moments using the result of the previous step as the weight function, and so on until the moments that are measured are the same as those used for the weight function.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object_image</td><td>The <a class="el" href="classgalsim_1_1_image_view.html" title="ImageView class is a mutable view of an Image.">ImageView</a> for the object being measured. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">guess_sig</td><td>Optional argument with an initial guess for the Gaussian sigma of the object, default 5.0 (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">precision</td><td>The convergence criterion for the moments; default 1e-6. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">guess_x_centroid</td><td>Optional argument with an initial guess for the x centroid of the galaxy; if not set, then the code will try the center of the image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">guess_y_centroid</td><td>Optional argument with an initial guess for the y centroid of the galaxy; if not set, then the code will try the center of the image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A <a class="el" href="structgalsim_1_1hsm_1_1_h_s_m_shape_data.html" title="Struct containing information about the shape of an object.">HSMShapeData</a> object containing the results of moment measurement. </dd></dl>

</div>
</div>
<a class="anchor" id="ac18e9c11e85e4f3907631580cd1c31cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int galsim::hsm::general_shear_estimator </td>
          <td>(</td>
          <td class="paramtype">RectImage *&#160;</td>
          <td class="paramname"><em>gal_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RectImage *&#160;</td>
          <td class="paramname"><em>PSF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectData *&#160;</td>
          <td class="paramname"><em>gal_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectData *&#160;</td>
          <td class="paramname"><em>PSF_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>shear_est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carry out PSF correction. </p>
<p>Carry out one of the multiple possible methods of PSF correction using the HSM package. Results for the shape measurement are returned by modifying the galaxy data directly. The flags parameter is only used for the REGAUSS shape measurement method, and is defined as follows: 0x1=recompute galaxy flux by summing unmasked pixels, 0x2=recompute galaxy flux from Gaussian-quartic fit, 0x4=cut off Gaussian approximator at NSIG_RG sigma to save time, 0x8=cut off PSF residual at NSIG_RG2 to save time. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*gal_image</td><td>The <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> object for the galaxy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*PSF</td><td>The <a class="el" href="structgalsim_1_1hsm_1_1_rect_image.html" title="Represents an image in the way that the hsm code expects to see.">RectImage</a> object for the PSF </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*gal_data</td><td>The <a class="el" href="structgalsim_1_1hsm_1_1_object_data.html" title="Characterizes the shape and other parameters of objects.">ObjectData</a> object for the galaxy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*PSF_data</td><td>The <a class="el" href="structgalsim_1_1hsm_1_1_object_data.html" title="Characterizes the shape and other parameters of objects.">ObjectData</a> object for the PSF </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*shear_est</td><td>A string indicating the desired method of PSF correction: REGAUSS, LINEAR, BJ, or KSB </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>A parameter for REGAUSS (typical usage is 0xe). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A status flag that should be zero if the measurement was successful. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 8 2012 13:56:38 for GalSim by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
