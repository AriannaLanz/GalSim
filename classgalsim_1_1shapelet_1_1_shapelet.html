<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>GalSim: galsim.shapelet.Shapelet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1shapelet.html">shapelet</a></li><li class="navelem"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html">Shapelet</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgalsim_1_1shapelet_1_1_shapelet-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">galsim.shapelet.Shapelet Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class describing polar shapelet surface brightness profiles.  
 <a href="classgalsim_1_1shapelet_1_1_shapelet.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for galsim.shapelet.Shapelet:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgalsim_1_1shapelet_1_1_shapelet.png" usemap="#galsim.shapelet.Shapelet_map" alt=""/>
  <map id="galsim.shapelet.Shapelet_map" name="galsim.shapelet.Shapelet_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6ec81758e3851de057eddbe7cde83a2a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a6ec81758e3851de057eddbe7cde83a2a">__init__</a></td></tr>
<tr class="separator:a6ec81758e3851de057eddbe7cde83a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97090fc4a31493a3d40d5614fa549171"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a97090fc4a31493a3d40d5614fa549171">getSigma</a></td></tr>
<tr class="separator:a97090fc4a31493a3d40d5614fa549171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c078bd109f05bccad559585cee2b17"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a28c078bd109f05bccad559585cee2b17">getOrder</a></td></tr>
<tr class="separator:a28c078bd109f05bccad559585cee2b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b0c73b5f6b1061308509d0b65abcd6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a32b0c73b5f6b1061308509d0b65abcd6">getBVec</a></td></tr>
<tr class="separator:a32b0c73b5f6b1061308509d0b65abcd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae48ec4c095d669a15accad1c72453591"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#ae48ec4c095d669a15accad1c72453591">getPQ</a></td></tr>
<tr class="separator:ae48ec4c095d669a15accad1c72453591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206d03c3b0376b382638a674d99c67f9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a206d03c3b0376b382638a674d99c67f9">getNM</a></td></tr>
<tr class="separator:a206d03c3b0376b382638a674d99c67f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de73e7bdf587976ff80dd77f1ca5c2f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a3de73e7bdf587976ff80dd77f1ca5c2f">setSigma</a></td></tr>
<tr class="separator:a3de73e7bdf587976ff80dd77f1ca5c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9747ef62d7e1d8b6dabd9e4f2196a964"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a9747ef62d7e1d8b6dabd9e4f2196a964">setOrder</a></td></tr>
<tr class="separator:a9747ef62d7e1d8b6dabd9e4f2196a964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef95c5913a46ec193e353ec7e579b73"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#aeef95c5913a46ec193e353ec7e579b73">setBVec</a></td></tr>
<tr class="separator:aeef95c5913a46ec193e353ec7e579b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7a47982a29b7c6bb228bf8a8959985"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a3b7a47982a29b7c6bb228bf8a8959985">setPQ</a></td></tr>
<tr class="separator:a3b7a47982a29b7c6bb228bf8a8959985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b08df759cdcc0b57b6811780d1c00d9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a1b08df759cdcc0b57b6811780d1c00d9">setNM</a></td></tr>
<tr class="separator:a1b08df759cdcc0b57b6811780d1c00d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169eef88b4cfb8e89249c5678bc274ef"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a169eef88b4cfb8e89249c5678bc274ef">setFlux</a></td></tr>
<tr class="separator:a169eef88b4cfb8e89249c5678bc274ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f477a41ef99387debbe55864776e08"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a28f477a41ef99387debbe55864776e08">scaleFlux</a></td></tr>
<tr class="separator:a28f477a41ef99387debbe55864776e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9333b357b15341d93483e0a549469a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a5b9333b357b15341d93483e0a549469a">applyRotation</a></td></tr>
<tr class="separator:a5b9333b357b15341d93483e0a549469a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf84b0c0a073e747cc5f3de68593b831"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#aaf84b0c0a073e747cc5f3de68593b831">applyDilation</a></td></tr>
<tr class="separator:aaf84b0c0a073e747cc5f3de68593b831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1660b8ffc74785e4199823358be74ce1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a1660b8ffc74785e4199823358be74ce1">applyMagnification</a></td></tr>
<tr class="separator:a1660b8ffc74785e4199823358be74ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e8dab94e56263ca9742506a75c23861"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1shapelet_1_1_shapelet.html#a9e8dab94e56263ca9742506a75c23861">fitImage</a></td></tr>
<tr class="memdesc:a9e8dab94e56263ca9742506a75c23861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fit for a shapelet decomposition of a given image.  <a href="#a9e8dab94e56263ca9742506a75c23861">More...</a><br/></td></tr>
<tr class="separator:a9e8dab94e56263ca9742506a75c23861"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class describing polar shapelet surface brightness profiles. </p>
<p>This class describes an arbitrary profile in terms of a shapelet decomposition. A shapelet decomposition is an eigenfunction decomposition of a 2-d function using the eigenfunctions of the 2-d quantum harmonic oscillator. The functions are Laguerre polynomials multiplied by a Gaussian. See Bernstein &amp; Jarvis, 2002 or Massey &amp; Refregier, 2005 for more detailed information about this kind of decomposition. For this class, we follow the notation of Bernstein &amp; Jarvis.</p>
<p>The decomposition is described by an overall scale length, sigma, and a vector of coefficients, b. The b vector is indexed by two values, which can be either (p,q) or (N,m). In terms of the quantum solution of the 2-d harmonic oscillator, p and q are the number of quanta with positive and negative angular momentum (respectively). Then, N=p+q, m=p-q.</p>
<p>The 2D image is given by (in polar coordinates): </p>
<pre class="fragment">I(r,theta) = 1/sigma^2 Sum_pq b_pq psi_pq(r/sigma, theta)
</pre><p>where psi_pq are the shapelet eigenfunctions, given by: </p>
<pre class="fragment">psi_pq(r,theta) = (-)^q/sqrt(pi) sqrt(q!/p!) r^m exp(i m theta) exp(-r^2/2) L_q^(m)(r^2)
</pre><p>and L_q^(m)(x) are generalized Laguerre polynomials.</p>
<p>The coeffients b_pq are in general complex. However, we require that the resulting I(r,theta) be purely real, which implies that b_pq = b_qp* (where * means complex conjugate). This further implies that b_pp (i.e. b_pq with p==q) is real.</p>
<pre class="fragment"> Initialization
 --------------

 1. Make a blank Shapelet instance with all b_pq = 0.

     shapelet = galsim.Shapelet(sigma=sigma, order=order)

 2. Make a Shapelet instance using a given vector for the b_pq values.

     order = 2
     bvec = [ 1, 0, 0, 0.2, 0.3, -0.1 ]
     shapelet = galsim.Shapelet(sigma=sigma, order=order, bvec=bvec)

 We use the following order for the coeffiecients, where the subscripts are in terms of p,q.

 [ b00  Re(b10)  Im(b10)  Re(b20)  Im(b20)  b11  Re(b30)  Im(b30)  Re(b21)  Im(b21) ... ]

 i.e. we progressively increase N, and for each value of N, we start with m=N and go down to 
 m=0 or 1 as appropriate.  And since m=0 is intrinsically real, it only requires one spot
 in the list.

 @param sigma          The scale size in the standard units (usually arcsec).
 @param order          Specify the order of the shapelet decomposition.  This is the maximum
                       N=p+q included in the decomposition.
 @param bvec           The initial vector of coefficients.  (Default: all zeros)


 Methods
 -------

 The Shapelet is a GSObject, and inherits most of the GSObject methods (draw(), applyShear(),
 etc.) and operator bindings.  The exception is drawShoot, which is not yet implemented for 
 Shapelet instances.

 In addition, Shapelet has the following methods:

 getSigma()         Get the sigma value.
 getOrder()         Get the order, the maximum N=p+q used by the decomposition.
 getBVec()          Get the vector of coefficients, returned as a numpy array.
 getPQ(p,q)         Get b_pq.  Returned as tuple (re, im) (even if p==q).
 getNM(N,m)         Get b_Nm.  Returned as tuple (re, im) (even if m=0).

 setSigma(sigma)    Set the sigma value.
 setOrder(order)    Set the order.
 setBVec(bvec)      Set the vector of coefficients.
 setPQ(p,q,re,im=0) Set b_pq.
 setNM(N,m,re,im=0) Set b_Nm.

 fitImage(image)    Fit for a shapelet decomposition of the given image.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6ec81758e3851de057eddbe7cde83a2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sigma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bvec</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gsparams</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaf84b0c0a073e747cc5f3de68593b831"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.applyDilation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1660b8ffc74785e4199823358be74ce1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.applyMagnification </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5b9333b357b15341d93483e0a549469a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.applyRotation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>theta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9e8dab94e56263ca9742506a75c23861"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.fitImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>center</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>normalization</em> = <code>'flux'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fit for a shapelet decomposition of a given image. </p>
<p>The optional normalization parameter mirrors the parameter in the GSObject <code>draw</code> method. If the fitted shapelet is drawn with the same normalization value as was used when it was fit, then the resulting image should be an approximate match to the original image.</p>
<p>For example: </p>
<pre class="fragment">image = ...
shapelet = galsim.Shapelet(sigma, order)
shapelet.fitImage(image,normalization='sb')
shapelet.draw(image=image2, dx=image.scale, normalization='sb')
</pre><p>Then image2 and image should be as close to the same as possible for the given sigma and order. Increasing the order can improve the fit, as can having sigma match the natural scale size of the image. However, it should be noted that some images are not well fit by a shapelet for any (reasonable) order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>The <a class="el" href="classgalsim_1_1_image.html" title="Image class. ">Image</a> for which to fit the shapelet decomposition </td></tr>
    <tr><td class="paramname">center</td><td>The position in pixels to use for the center of the decomposition. [Default: use the image center (<code>image.bounds.trueCenter()</code>)] </td></tr>
    <tr><td class="paramname">normalization</td><td>The normalization to assume for the image. (Default <code>normalization = "flux"</code>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32b0c73b5f6b1061308509d0b65abcd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.getBVec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a206d03c3b0376b382638a674d99c67f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.getNM </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a28c078bd109f05bccad559585cee2b17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.getOrder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae48ec4c095d669a15accad1c72453591"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.getPQ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a97090fc4a31493a3d40d5614fa549171"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.getSigma </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a28f477a41ef99387debbe55864776e08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.scaleFlux </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fluxRatio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aeef95c5913a46ec193e353ec7e579b73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.setBVec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bvec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a169eef88b4cfb8e89249c5678bc274ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.setFlux </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1b08df759cdcc0b57b6811780d1c00d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.setNM </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>re</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em> = <code>0.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9747ef62d7e1d8b6dabd9e4f2196a964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.setOrder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b7a47982a29b7c6bb228bf8a8959985"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.setPQ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>re</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em> = <code>0.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3de73e7bdf587976ff80dd77f1ca5c2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.shapelet.Shapelet.setSigma </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sigma</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>galsim/<a class="el" href="shapelet_8py.html">shapelet.py</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5</small></address>
</body>
</html>
